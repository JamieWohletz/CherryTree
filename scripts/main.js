"use strict";var CLOSURE_UNCOMPILED_DEFINES=null;"undefined"==typeof goog&&document.write('<script src="out/goog/base.js"></script>'),document.write('<script src="out/cljs_deps.js"></script>'),document.write('<script>if (typeof goog != "undefined") { goog.require("treegen.core"); } else { console.warn("ClojureScript could not load :main, did you forget to specify :asset-path?"); };</script>');var RENDER={X_SCALE:5,Y_SCALE:10,BLOSSOM_SIZE:16},renderTree=function(){function e(e){e.length=Math.floor(e.length*i.height/RENDER.Y_SCALE),e.thickness=Math.ceil(e.thickness*i.width/RENDER.X_SCALE)}function t(e,t,n){var i=void 0;return t&&e&&e.thickness?(i=_.chain(t.children).slice(0,n).map(function(e){return e.thickness}).reduce(_.add).value()||0,-t.thickness/2+(i+e.thickness/2)):0}function n(i){var o=arguments.length<=1||void 0===arguments[1]?null:arguments[1],s=arguments.length<=2||void 0===arguments[2]?0:arguments[2],c=void 0,h=void 0;return e(i),r.lineWidth=i.thickness,r.beginPath(),c=t(i,o,s),r.translate(c,0),r.moveTo(0,0),h=i.thickness/2,r.beginPath(),r.arc(0,0,h+.2,0,2*Math.PI,!1),r.fill(),r.closePath(),r.beginPath(),r.moveTo(0,0),r.lineTo(-h,0),r.quadraticCurveTo(-h/2,-i.length/2,-h,-i.length),r.lineTo(h,-i.length),r.quadraticCurveTo(h/2,-i.length/2,h,0),r.fill(),r.translate(0,-i.length),i.children?void _.each(i.children,function(e,t){r.save(),r.rotate(e.angle),n(e,i,t),r.restore()}):void r.drawImage(a,-RENDER.BLOSSOM_SIZE/2,-RENDER.BLOSSOM_SIZE/2,RENDER.BLOSSOM_SIZE,RENDER.BLOSSOM_SIZE)}var i=document.getElementById("tree-canvas"),r=i.getContext("2d"),o=$(window).width(),s=$(window).height(),a=void 0;return i.width=o,i.height=s,r.translate(i.width/2,i.height),r.lineCap="round",r.lineJoin="round",function(e){a=new Image,a.src="./images/cherryblossom.png",a.onload=n.bind(this,e)}}();